# Zero2Ping

Often the first step of using a TCP/IP stack involves obtaining an IP address from a DHCP server on the network and being able to ping the board from the developer's computer.  Zero2Ping documents that journey for the TCP/IP stack within the MPLAB Harmony v3 framework using the SAME54 Xplained Pro evaluation board.

A minimal project like Zero2Ping is important for a couple of reasons.  One, MCC does not allow for migration of a project from one processor to another.  Two, most of the demos are point solutions that do not have ICMP server or DHCP client enabled.  Three, discerning the difference between necessary application code and the stack functionality is not clear.  What can be removed and where do I start with my application?  Four, due to a lack of ability to move a demo project to your own hardware, the value of the demo is limited.

Based on all of the above, what is needed are clear instructions on how to build a MPLAB Harmony v3 TCP/IP project from a blank project as this is the first thing everyone does with their custom hardware.  The Zero2Ping project demonstrates that ICMP server and DHCP client require **no** application code to function. 

## Building the Project

MPLAB Harmony has evolved over the past few years into its current state.  The framework is configured through MCC which is a recent change.  A lot of the documentation still refers to the prior configuration plugin called MHC.  This project was developed via MCC with the following products and versions (from the harmony-manifest-success.yml file):

```
# This file has been autogenerated by MPLAB Code Configurator. Please do not edit this file.
# Project "zero2ping" has been created by using mentioned Harmony 3 packages


project: zero2ping
creation_date: 2023-01-09T16:26:31.452-08:00[America/Los_Angeles]    # ISO 8601 format: https://www.w3.org/TR/NOTE-datetime
operating_system: Windows 10
mcc_mode: IDE            # [IDE|Standalone|Headless]
mcc_version: v5.2.2
mcc_core_version: v5.4.14
mplabx_version: v6.05        # if MPLAB X plugin only
harmony_version: v1.2.0
compiler: XC32 (v4.21) 

modules:
    - {name: "csp", version: "v3.14.0"}
    - {name: "core", version: "v3.11.1"}
    - {name: "dev_packs", version: "v3.14.0"}
    - {name: "net", version: "v3.8.0"}
    - {name: "bsp", version: "v3.14.0"}
    - {name: "CMSIS-FreeRTOS", version: "v10.4.6"}
```

One option that has always existed within MPLAB Harmony v3 is the ability to develop bare metal or with a real-time operating system (RTOS).  Zero2Ping was developed with FreeRTOS so that the application developer could utilize the RTOS for their application development as well.

## Configuring MPLAB Harmony v3 TCP/IP Stack

The git log for the project shows the steps taken to bring up the layers of the project and the issues found due defaults in the framework that prevented quick and easy progress while developing from a blank project.

The initial project graph needs to be built in MCC.  The picture below shows the required blocks for a static IP address and ICMP server (ping response) capability:

![Initial Project Graph](https://raw.githubusercontent.com/jharoian-mchp/zero2ping/main/docs/PingProjectGraph.png)

In order for this project to generate and function correctly, the following pin assignments were made:



## Resources

The docs directory contains the following:

- SAME54 Datasheet
- SAME54 Xplained Pro Schematics

Both documents were referred to frequently during the development of Zero2Ping.

